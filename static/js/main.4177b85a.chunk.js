(this["webpackJsonpmoney-heist"]=this["webpackJsonpmoney-heist"]||[]).push([[1],{14:function(e,t,a){e.exports=a(27)},19:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),o=(a(19),a(12)),l=a(13),u=a(1),i={episodes:[],favourites:[]},p=Object(n.createContext)(i),d=function(e,t){switch(t.type){case"FETCH_DATA":return Object(u.a)(Object(u.a)({},e),{},{episodes:t.payload});case"ADD_FAV":return Object(u.a)(Object(u.a)({},e),{},{favourites:[].concat(Object(l.a)(e.favourites),[t.payload])});case"REMOVE_FAV":return Object(u.a)(Object(u.a)({},e),{},{favourites:t.payload});default:return e}},m=function(e){var t=e.children,a=Object(n.useReducer)(d,i),s=Object(o.a)(a,2),c=s[0],l=s[1];return r.a.createElement(p.Provider,{value:{state:c,dispatch:l}},t)},f=a(4),v=function(e){var t=e.children,a=Object(n.useContext)(p).state;return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,"Money Heist!"),r.a.createElement("p",null,"Pick your favourite episode")),r.a.createElement("div",null,r.a.createElement(f.a,{to:"/"},"Home"),r.a.createElement(f.a,{to:"/faves"},"Favourite(s): ",a.favourites.length))),t)},E=a(6),h=a.n(E),b=a(11),y=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.tvmaze.com/singlesearch/shows?q=la-casa-de-papel&embed=episodes",e.next=3,fetch("https://api.tvmaze.com/singlesearch/shows?q=la-casa-de-papel&embed=episodes");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",t({type:"FETCH_DATA",payload:n._embedded.episodes}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t,a){var n=e.favourites.includes(a),r={type:"ADD_FAV",payload:a};n&&(r={type:"REMOVE_FAV",payload:e.favourites.filter((function(e){return e.id!==a.id}))});return t(r)},j=Object(n.lazy)((function(){return a.e(0).then(a.bind(null,28))})),g=function(){var e=Object(n.useContext)(p),t=e.state,a=e.dispatch;Object(n.useEffect)((function(){0===t.episodes.length&&y(a)}));var s={episodes:t.episodes,store:{state:t,dispatch:a},toggleFavAction:O,favourites:t.favourites};return r.a.createElement(v,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement("section",{className:"episode-layout"},r.a.createElement(j,s))))},A=Object(n.lazy)((function(){return a.e(0).then(a.bind(null,28))}));function F(){var e=r.a.useContext(p),t=e.state,a=e.dispatch,s={episodes:t.favourites,store:{state:t,dispatch:a},toggleFavAction:O,favourites:t.favourites};return r.a.createElement(v,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement("div",{className:"episode-layout"},r.a.createElement(A,s))))}var C=function(e){return e.pageComponent};c.a.render(r.a.createElement(m,null,r.a.createElement(f.b,null,r.a.createElement(C,{pageComponent:r.a.createElement(g,null),path:"/"}),r.a.createElement(C,{pageComponent:r.a.createElement(F,null),path:"/faves"}))),document.getElementById("root"))}},[[14,2,3]]]);
//# sourceMappingURL=main.4177b85a.chunk.js.map